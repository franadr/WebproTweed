<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:b="http://bootsfaces.net/ui"
        xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>
<h:body>

    <h:form>
        <b:growl id="growlMsg" globalOnly="true" placementFrom="top"
                 show-detail="true" show-summary="true" allowDismiss="true"
                 delay="5000" escape="true" />
        <b:container layout="fluid">
            <b:image name="test" value="tweeder.jpg"  tooltip="Ain't he a beauty?" tooltipPosition="right" span="4" offset="4"/>
            <b:panel title="Login to tweeder" look="primary" span="4" offset="4" collapsed="false" id="loginForm" >
                <b:row>
                    <b:column medium-screen="4">
                        <h:outputText value="Username:" for="username" />
                    </b:column>
                    <b:column medium-screen="8">
                        <b:inputText placeholder="Username"
                                     id="username"
                                     value="#{loginController.currentUser.email}"
                                     autocomplete="false"
                                     validatorMessage="Invalid email">
                            <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
                            <f:facet name="prepend">
                                <b:icon name="user" />
                            </f:facet>
                        </b:inputText>
                    </b:column>
                    <b:column medium-screen="6" style-class="message">
                        <b:message for="username" />
                    </b:column>
                </b:row>
                <b:row tooltip="Please input your password">
                    <b:column medium-screen="4">
                        <h:outputText value="Password:" />
                    </b:column>
                    <b:column medium-screen="8">
                        <b:inputSecret placeholder="Password" id="password" value="#{loginController.currentUser.password}"
                                        autocomplete="false" required="true">
                            <f:facet name="prepend">
                                <b:iconAwesome name="key" />
                            </f:facet>
                        </b:inputSecret>
                    </b:column>
                    <b:column styleClass="message" >
                        <b:message for="password"/>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column span="6">
                        <b:commandButton ajax="true" value="login" update="@form" look="primary"
                                         style="width:100%" action="#{loginController.validateUser()}"/>
                    </b:column>
                    <b:column span="6">
                        <b:commandButton value="register" update="@form"
                                         look="success" style="width:100%" action="#{loginController.register()}" />
                    </b:column>
                </b:row>

            </b:panel>
        </b:container>

    </h:form>

</h:body>

</html>
